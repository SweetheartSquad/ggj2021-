parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"u8ui":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=F,exports.hydrate=H,exports.h=exports.createElement=f,exports.Fragment=h,exports.createRef=d,exports.Component=v,exports.cloneElement=O,exports.createContext=R,exports.toChildArray=C,exports.options=exports.isValidElement=void 0;var e,t,n,_,l,o,r,u={},i=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function c(e){var t=e.parentNode;t&&t.removeChild(e)}function f(e,t,n){var _,l,o,r=arguments,u={};for(o in t)"key"==o?_=t[o]:"ref"==o?l=t[o]:u[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);if(null!=n&&(u.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===u[o]&&(u[o]=e.defaultProps[o]);return a(e,u,_,l,null)}function a(t,n,_,l,o){var r={type:t,props:n,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++e.__v:o};return null!=e.vnode&&e.vnode(r),r}function d(){return{current:null}}function h(e){return e.children}function v(e,t){this.props=e,this.context=t}function y(e,t){if(null==t)return e.__?y(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?y(e):null}function m(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return m(e)}}function g(t){(!t.__d&&(t.__d=!0)&&n.push(t)&&!k.__r++||l!==e.debounceRendering)&&((l=e.debounceRendering)||_)(k)}function k(){for(var e;k.__r=n.length;)e=n.sort(function(e,t){return e.__v.__b-t.__v.__b}),n=[],e.some(function(e){var t,n,_,l,o,r;e.__d&&(o=(l=(t=e).__v).__e,(r=t.__P)&&(n=[],(_=p({},l)).__v=l.__v+1,A(r,l,_,t.__n,void 0!==r.ownerSVGElement,null!=l.__h?[o]:null,n,null==o?y(l):o,l.__h),D(n,l),l.__e!=o&&m(l)))})}function x(e,t,n,_,l,o,r,s,p,f){var d,v,m,g,k,x,C,S=_&&_.__k||i,P=S.length;for(p==u&&(p=null!=r?r[0]:P?y(_,0):null),n.__k=[],d=0;d<t.length;d++)if(null!=(g=n.__k[d]=null==(g=t[d])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g?a(null,g,null,null,g):Array.isArray(g)?a(h,{children:g},null,null,null):g.__b>0?a(g.type,g.props,g.key,null,g.__v):g)){if(g.__=n,g.__b=n.__b+1,null===(m=S[d])||m&&g.key==m.key&&g.type===m.type)S[d]=void 0;else for(v=0;v<P;v++){if((m=S[v])&&g.key==m.key&&g.type===m.type){S[v]=void 0;break}m=null}A(e,g,m=m||u,l,o,r,s,p,f),k=g.__e,(v=g.ref)&&m.ref!=v&&(C||(C=[]),m.ref&&C.push(m.ref,null,g),C.push(v,g.__c||k,g)),null!=k?(null==x&&(x=k),"function"==typeof g.type&&null!=g.__k&&g.__k===m.__k?g.__d=p=b(g,p,e):p=w(e,g,m,S,r,k,p),f||"option"!==n.type?"function"==typeof n.type&&(n.__d=p):e.value=""):p&&m.__e==p&&p.parentNode!=e&&(p=y(m))}if(n.__e=x,null!=r&&"function"!=typeof n.type)for(d=r.length;d--;)null!=r[d]&&c(r[d]);for(d=P;d--;)null!=S[d]&&("function"==typeof n.type&&null!=S[d].__e&&S[d].__e==n.__d&&(n.__d=y(_,d+1)),M(S[d],S[d]));if(C)for(d=0;d<C.length;d++)L(C[d],C[++d],C[++d])}function b(e,t,n){var _,l;for(_=0;_<e.__k.length;_++)(l=e.__k[_])&&(l.__=e,t="function"==typeof l.type?b(l,t,n):w(n,l,l,e.__k,null,l.__e,t));return t}function C(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){C(e,t)}):t.push(e)),t}function w(e,t,n,_,l,o,r){var u,i,s;if(void 0!==t.__d)u=t.__d,t.__d=void 0;else if(l==n||o!=r||null==o.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(o),u=null;else{for(i=r,s=0;(i=i.nextSibling)&&s<_.length;s+=2)if(i==o)break e;e.insertBefore(o,r),u=r}return void 0!==u?u:o.nextSibling}function S(e,t,n,_,l){var o;for(o in n)"children"===o||"key"===o||o in t||E(e,o,null,n[o],_);for(o in t)l&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||E(e,o,t[o],n[o],_)}function P(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||s.test(t)?n:n+"px"}function E(e,t,n,_,l){var o,r,u;if(l&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(t in _)n&&t in n||P(e.style,t,"");if(n)for(t in n)_&&n[t]===_[t]||P(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(o=t!==(t=t.replace(/Capture$/,"")),(r=t.toLowerCase())in e&&(t=r),t=t.slice(2),e.l||(e.l={}),e.l[t+o]=n,u=o?U:N,n?_||e.addEventListener(t,u,o):e.removeEventListener(t,u,o)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!l&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function N(t){this.l[t.type+!1](e.event?e.event(t):t)}function U(t){this.l[t.type+!0](e.event?e.event(t):t)}function A(t,n,_,l,o,r,u,i,s){var c,f,a,d,y,m,g,k,b,C,w,S=n.type;if(void 0!==n.constructor)return null;null!=_.__h&&(s=_.__h,i=n.__e=_.__e,n.__h=null,r=[i]),(c=e.__b)&&c(n);try{e:if("function"==typeof S){if(k=n.props,b=(c=S.contextType)&&l[c.__c],C=c?b?b.props.value:c.__:l,_.__c?g=(f=n.__c=_.__c).__=f.__E:("prototype"in S&&S.prototype.render?n.__c=f=new S(k,C):(n.__c=f=new v(k,C),f.constructor=S,f.render=W),b&&b.sub(f),f.props=k,f.state||(f.state={}),f.context=C,f.__n=l,a=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,S.getDerivedStateFromProps(k,f.__s))),d=f.props,y=f.state,a)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==S.getDerivedStateFromProps&&k!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(k,C),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(k,f.__s,C)||n.__v===_.__v){f.props=k,f.state=f.__s,n.__v!==_.__v&&(f.__d=!1),f.__v=n,n.__e=_.__e,n.__k=_.__k,f.__h.length&&u.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(k,f.__s,C),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(d,y,m)})}f.context=C,f.props=k,f.state=f.__s,(c=e.__r)&&c(n),f.__d=!1,f.__v=n,f.__P=t,c=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(l=p(p({},l),f.getChildContext())),a||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(d,y)),w=null!=c&&c.type===h&&null==c.key?c.props.children:c,x(t,Array.isArray(w)?w:[w],n,_,l,o,r,u,i,s),f.base=n.__e,n.__h=null,f.__h.length&&u.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==r&&n.__v===_.__v?(n.__k=_.__k,n.__e=_.__e):n.__e=T(_.__e,n,_,l,o,r,u,s);(c=e.diffed)&&c(n)}catch(t){n.__v=null,(s||null!=r)&&(n.__e=i,n.__h=!!s,r[r.indexOf(i)]=null),e.__e(t,n,_)}}function D(t,n){e.__c&&e.__c(n,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(e){e.call(n)})}catch(t){e.__e(t,n.__v)}})}function T(e,t,n,_,l,o,r,s){var p,c,f,a,d,h=n.props,v=t.props;if(l="svg"===t.type||l,null!=o)for(p=0;p<o.length;p++)if(null!=(c=o[p])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,o[p]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=l?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,v.is&&{is:v.is}),o=null,s=!1}if(null===t.type)h===v||s&&e.data===v||(e.data=v);else{if(null!=o&&(o=i.slice.call(e.childNodes)),f=(h=n.props||u).dangerouslySetInnerHTML,a=v.dangerouslySetInnerHTML,!s){if(null!=o)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;(a||f)&&(a&&(f&&a.__html==f.__html||a.__html===e.innerHTML)||(e.innerHTML=a&&a.__html||""))}S(e,v,h,l,s),a?t.__k=[]:(p=t.props.children,x(e,Array.isArray(p)?p:[p],t,n,_,"foreignObject"!==t.type&&l,o,r,u,s)),s||("value"in v&&void 0!==(p=v.value)&&(p!==e.value||"progress"===t.type&&!p)&&E(e,"value",p,h.value,!1),"checked"in v&&void 0!==(p=v.checked)&&p!==e.checked&&E(e,"checked",p,h.checked,!1))}return e}function L(t,n,_){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,_)}}function M(t,n,_){var l,o,r;if(e.unmount&&e.unmount(t),(l=t.ref)&&(l.current&&l.current!==t.__e||L(l,null,n)),_||"function"==typeof t.type||(_=null!=(o=t.__e)),t.__e=t.__d=void 0,null!=(l=t.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(t){e.__e(t,n)}l.base=l.__P=null}if(l=t.__k)for(r=0;r<l.length;r++)l[r]&&M(l[r],n,_);null!=o&&c(o)}function W(e,t,n){return this.constructor(e,n)}function F(t,n,_){var l,r,s;e.__&&e.__(t,n),r=(l=_===o)?null:_&&_.__k||n.__k,t=f(h,null,[t]),s=[],A(n,(l?n:_||n).__k=t,r||u,u,void 0!==n.ownerSVGElement,_&&!l?[_]:r?null:n.childNodes.length?i.slice.call(n.childNodes):null,s,_||u,l),D(s,t)}function H(e,t){F(e,t,o)}function O(e,t,n){var _,l,o,r=arguments,u=p({},e.props);for(o in t)"key"==o?_=t[o]:"ref"==o?l=t[o]:u[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);return null!=n&&(u.children=n),a(e.type,u,_||e.key,l||e.ref,null)}function R(e,t){var n={__c:t="__cC"+r++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,_;return this.getChildContext||(n=[],(_={})[t]=this,this.getChildContext=function(){return _},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(g)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}exports.isValidElement=t,exports.options=e,exports.options=e={__e:function(e,t){for(var n,_,l,o=t.__h;t=t.__;)if((n=t.__c)&&!n.__)try{if((_=n.constructor)&&null!=_.getDerivedStateFromError&&(n.setState(_.getDerivedStateFromError(e)),l=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),l=n.__d),l)return t.__h=o,n.__E=n}catch(t){e=t}throw e},__v:0},exports.isValidElement=t=function(e){return null!=e&&void 0===e.constructor},v.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),g(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g(this))},v.prototype.render=h,n=[],_="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,k.__r=0,o=u,r=0;
},{}],"I8Gw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.jsxDEV=exports.jsxs=exports.jsx=r,Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return e.Fragment}});var e=require("preact");function r(r,o,t,n,_){var s={};for(var u in o)"ref"!=u&&(s[u]=o[u]);var i,p,l={type:r,props:s,key:t,ref:o&&o.ref,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:++e.options.__v,__source:n,__self:_};if("function"==typeof r&&(i=r.defaultProps))for(p in i)void 0===s[p]&&(s[p]=i[p]);return e.options.vnode&&e.options.vnode(l),l}
},{"preact":"u8ui"}],"tI7p":[function(require,module,exports) {
module.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,t=[],a=0;a<e.rangeCount;a++)t.push(e.getRangeAt(a));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||t.forEach(function(n){e.addRange(n)}),n&&n.focus()}};
},{}],"gpwS":[function(require,module,exports) {
"use strict";var e=require("toggle-selection"),t={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";function a(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function n(n,r){var c,l,s,i,p,d,u=!1;r||(r={}),c=r.debug||!1;try{if(s=e(),i=document.createRange(),p=document.getSelection(),(d=document.createElement("span")).textContent=n,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(e){if(e.stopPropagation(),r.format)if(e.preventDefault(),void 0===e.clipboardData){c&&console.warn("unable to use e.clipboardData"),c&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=t[r.format]||t.default;window.clipboardData.setData(o,n)}else e.clipboardData.clearData(),e.clipboardData.setData(r.format,n);r.onCopy&&(e.preventDefault(),r.onCopy(e.clipboardData))}),document.body.appendChild(d),i.selectNodeContents(d),p.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(m){c&&console.error("unable to copy using execCommand: ",m),c&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(r.format||"text",n),r.onCopy&&r.onCopy(window.clipboardData),u=!0}catch(m){c&&console.error("unable to copy using clipboardData: ",m),c&&console.error("falling back to prompt"),l=a("message"in r?r.message:o),window.prompt(l,n)}}finally{p&&("function"==typeof p.removeRange?p.removeRange(i):p.removeAllRanges()),d&&document.body.removeChild(d),s()}return u}module.exports=n;
},{"toggle-selection":"tI7p"}],"mkVv":[function(require,module,exports) {
"use strict";function e(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function t(e){return!!e&&!!e[Q]}function r(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[L]||!!e.constructor[L]||s(e)||p(e))}function n(r){return t(r)||e(23,r),r[Q].t}function o(e,t,r){void 0===r&&(r=!1),0===i(e)?(r?Object.keys:Z)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function i(e){var t=e[Q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:s(e)?2:p(e)?3:0}function a(e,t){return 2===i(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===i(e)?e.get(t):e[t]}function c(e,t,r){var n=i(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function s(e){return X&&e instanceof Map}function p(e){return q&&e instanceof Set}function l(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ee(e);delete t[Q];for(var r=Z(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,n){return void 0===n&&(n=!1),y(e)||t(e)||!r(e)?e:(i(e)>1&&(e.set=e.add=e.clear=e.delete=d),Object.freeze(e),n&&o(e,function(e,t){return v(t,!0)},!0),e)}function d(){e(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(t){var r=te[t];return r||e(18,t),r}function g(e,t){te[e]||(te[e]=t)}function m(){return J}function P(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function O(e){x(e),e.p.forEach(j),e.p=null}function x(e){e===J&&(J=e.l)}function w(e){return J={p:[],l:J,h:e,m:!0,_:0}}function j(e){var t=e[Q];0===t.i||1===t.i?t.j():t.g=!0}function A(t,n){n._=n.p.length;var o=n.p[0],i=void 0!==t&&t!==o;return n.h.O||b("ES5").S(n,t,i),i?(o[Q].P&&(O(n),e(4)),r(t)&&(t=D(n,t),n.l||_(n,t)),n.u&&b("Patches").M(o[Q],t,n.u,n.s)):t=D(n,o,[]),O(n),n.u&&n.v(n.u,n.s),t!==H?t:void 0}function D(e,t,r){if(y(t))return t;var n=t[Q];if(!n)return o(t,function(o,i){return S(e,n,t,o,i,r)},!0),t;if(n.A!==e)return t;if(!n.P)return _(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=h(n.k):n.o;o(3===n.i?new Set(i):i,function(t,o){return S(e,n,i,t,o,r)}),_(e,i,!1),r&&e.u&&b("Patches").R(n,r,e.u,e.s)}return n.o}function S(e,n,o,i,u,f){if(t(u)){var s=D(e,u,f&&n&&3!==n.i&&!a(n.D,i)?f.concat(i):void 0);if(c(o,i,s),!t(s))return;e.m=!1}if(r(u)&&!y(u)){if(!e.h.N&&e._<1)return;D(e,u),n&&n.A.l||_(e,u)}}function _(e,t,r){void 0===r&&(r=!1),e.h.N&&e.m&&v(t,r)}function k(e,t){var r=e[Q];return(r?l(r):e)[t]}function I(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function z(e){e.P||(e.P=!0,e.l&&z(e.l))}function E(e){e.o||(e.o=h(e.t))}function M(e,t,r){var n=s(t)?b("MapSet").T(t,r):p(t)?b("MapSet").F(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:m(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=re;r&&(o=[n],i=ne);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return n.k=c,n.j=u,c}(t,r):b("ES5").J(t,r);return(r?r.A:m()).p.push(n),n}function F(n){return t(n)||e(22,n),function e(t){if(!r(t))return t;var n,a=t[Q],f=i(t);if(a){if(!a.P&&(a.i<4||!b("ES5").K(a)))return a.t;a.I=!0,n=R(t,f),a.I=!1}else n=R(t,f);return o(n,function(t,r){a&&u(a.t,t)===r||c(n,t,e(r))}),3===f?new Set(n):n}(n)}function R(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}function C(){function e(e,t){var r=u[e];return r?r.enumerable=t:u[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[Q];return re.get(t,e)},set:function(t){var r=this[Q];re.set(r,e,t)}},r}function r(e){for(var t=e.length-1;t>=0;t--){var r=e[t][Q];if(!r.P)switch(r.i){case 5:i(r)&&z(r);break;case 4:n(r)&&z(r)}}}function n(e){for(var t=e.t,r=e.k,n=Z(r),o=n.length-1;o>=0;o--){var i=n[o];if(i!==Q){var u=t[i];if(void 0===u&&!a(t,i))return!0;var c=r[i],s=c&&c[Q];if(s?s.t!==u:!f(c,u))return!0}}var p=!!t[Q];return n.length!==Z(t).length+(p?0:1)}function i(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var u={};g("ES5",{J:function(t,r){var n=Array.isArray(t),o=function(t,r){if(t){for(var n=Array(r.length),o=0;o<r.length;o++)Object.defineProperty(n,""+o,e(o,!0));return n}var i=ee(r);delete i[Q];for(var a=Z(i),u=0;u<a.length;u++){var c=a[u];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(r),i)}(n,t),i={i:n?5:4,A:r?r.A:m(),P:!1,I:!1,D:{},l:r,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,Q,{value:i,writable:!0}),o},S:function(e,n,u){u?t(n)&&n[Q].A===e&&r(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[Q];if(r){var n=r.t,u=r.k,c=r.D,f=r.i;if(4===f)o(u,function(t){t!==Q&&(void 0!==n[t]||a(n,t)?c[t]||e(u[t]):(c[t]=!0,z(r)))}),o(n,function(e){void 0!==u[e]||a(u,e)||(c[e]=!1,z(r))});else if(5===f){if(i(r)&&(z(r),c.length=!0),u.length<n.length)for(var s=u.length;s<n.length;s++)c[s]=!1;else for(var p=n.length;p<u.length;p++)c[p]=!0;for(var l=Math.min(u.length,n.length),h=0;h<l;h++)void 0===c[h]&&e(u[h])}}}}(e.p[0]),r(e.p))},K:function(e){return 4===e.i?n(e):i(e)}})}function N(){function n(e){if(!r(e))return e;if(Array.isArray(e))return e.map(n);if(s(e))return new Map(Array.from(e.entries()).map(function(e){return[e[0],n(e[1])]}));if(p(e))return new Set(Array.from(e).map(n));var t=Object.create(Object.getPrototypeOf(e));for(var o in e)t[o]=n(e[o]);return t}function c(e){return t(e)?n(e):e}var f="add";g("Patches",{$:function(t,r){return r.forEach(function(r){for(var o=r.path,a=r.op,c=t,s=0;s<o.length-1;s++){var p=i(c),l=o[s];0!==p&&1!==p||"__proto__"!==l&&"constructor"!==l||e(24),"function"==typeof c&&"prototype"===l&&e(24),"object"!=typeof(c=u(c,l))&&e(15,o.join("/"))}var h=i(c),v=n(r.value),d=o[o.length-1];switch(a){case"replace":switch(h){case 2:return c.set(d,v);case 3:e(16);default:return c[d]=v}case f:switch(h){case 1:return c.splice(d,0,v);case 2:return c.set(d,v);case 3:return c.add(v);default:return c[d]=v}case"remove":switch(h){case 1:return c.splice(d,1);case 2:return c.delete(d);case 3:return c.delete(r.value);default:return delete c[d]}default:e(17,a)}}),t},R:function(e,t,r,n){switch(e.i){case 0:case 4:case 2:return function(e,t,r,n){var i=e.t,s=e.o;o(e.D,function(e,o){var p=u(i,e),l=u(s,e),h=o?a(i,e)?"replace":f:"remove";if(p!==l||"replace"!==h){var v=t.concat(e);r.push("remove"===h?{op:h,path:v}:{op:h,path:v,value:l}),n.push(h===f?{op:"remove",path:v}:"remove"===h?{op:f,path:v,value:c(p)}:{op:"replace",path:v,value:c(p)})}})}(e,t,r,n);case 5:case 1:return function(e,t,r,n){var o=e.t,i=e.D,a=e.o;if(a.length<o.length){var u=[a,o];o=u[0],a=u[1];var s=[n,r];r=s[0],n=s[1]}for(var p=0;p<o.length;p++)if(i[p]&&a[p]!==o[p]){var l=t.concat([p]);r.push({op:"replace",path:l,value:c(a[p])}),n.push({op:"replace",path:l,value:c(o[p])})}for(var h=o.length;h<a.length;h++){var v=t.concat([h]);r.push({op:f,path:v,value:c(a[h])})}o.length<a.length&&n.push({op:"replace",path:t.concat(["length"]),value:o.length})}(e,t,r,n);case 3:return function(e,t,r,n){var o=e.t,i=e.o,a=0;o.forEach(function(e){if(!i.has(e)){var o=t.concat([a]);r.push({op:"remove",path:o,value:e}),n.unshift({op:f,path:o,value:e})}a++}),a=0,i.forEach(function(e){if(!o.has(e)){var i=t.concat([a]);r.push({op:f,path:i,value:e}),n.unshift({op:"remove",path:i,value:e})}a++})}(e,t,r,n)}},M:function(e,t,r,n){r.push({op:"replace",path:[],value:t}),n.push({op:"replace",path:[],value:e.t})}})}function T(){function t(e,t){function r(){this.constructor=e}u(e,t),e.prototype=(r.prototype=t.prototype,new r)}function n(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function i(e){e.o||(e.o=new Set,e.t.forEach(function(t){if(r(t)){var n=M(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)}))}function a(t){t.g&&e(3,JSON.stringify(l(t)))}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},c=function(){function e(e,t){return this[Q]={i:2,l:t,A:t?t.A:m(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,g:!1},this}t(e,Map);var i=e.prototype;return Object.defineProperty(i,"size",{get:function(){return l(this[Q]).size}}),i.has=function(e){return l(this[Q]).has(e)},i.set=function(e,t){var r=this[Q];return a(r),l(r).has(e)&&l(r).get(e)===t||(n(r),z(r),r.D.set(e,!0),r.o.set(e,t),r.D.set(e,!0)),this},i.delete=function(e){if(!this.has(e))return!1;var t=this[Q];return a(t),n(t),z(t),t.D.set(e,!1),t.o.delete(e),!0},i.clear=function(){var e=this[Q];a(e),l(e).size&&(n(e),z(e),e.D=new Map,o(e.t,function(t){e.D.set(t,!1)}),e.o.clear())},i.forEach=function(e,t){var r=this;l(this[Q]).forEach(function(n,o){e.call(t,r.get(o),o,r)})},i.get=function(e){var t=this[Q];a(t);var o=l(t).get(e);if(t.I||!r(o))return o;if(o!==t.t.get(e))return o;var i=M(t.A.h,o,t);return n(t),t.o.set(e,i),i},i.keys=function(){return l(this[Q]).keys()},i.values=function(){var e,t=this,r=this.keys();return(e={})[V]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},i.entries=function(){var e,t=this,r=this.keys();return(e={})[V]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},i[V]=function(){return this.entries()},e}(),f=function(){function e(e,t){return this[Q]={i:3,l:t,A:t?t.A:m(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}t(e,Set);var r=e.prototype;return Object.defineProperty(r,"size",{get:function(){return l(this[Q]).size}}),r.has=function(e){var t=this[Q];return a(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},r.add=function(e){var t=this[Q];return a(t),this.has(e)||(i(t),z(t),t.o.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[Q];return a(t),i(t),z(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},r.clear=function(){var e=this[Q];a(e),l(e).size&&(i(e),z(e),e.o.clear())},r.values=function(){var e=this[Q];return a(e),i(e),e.o.values()},r.entries=function(){var e=this[Q];return a(e),i(e),e.o.entries()},r.keys=function(){return this.values()},r[V]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},e}();g("MapSet",{T:function(e,t){return new c(e,t)},F:function(e,t){return new f(e,t)}})}function W(){C(),T(),N()}function K(e){return e}function U(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.castDraft=K,exports.castImmutable=U,exports.current=F,exports.enableAllPlugins=W,exports.enableES5=C,exports.enableMapSet=T,exports.enablePatches=N,exports.freeze=v,exports.isDraft=t,exports.isDraftable=r,exports.original=n,exports.setUseProxies=exports.setAutoFreeze=exports.produceWithPatches=exports.produce=exports.nothing=exports.immerable=exports.finishDraft=exports.createDraft=exports.applyPatches=exports.Immer=exports.default=void 0;var $,J,G="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),X="undefined"!=typeof Map,q="undefined"!=typeof Set,B="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=G?Symbol.for("immer-nothing"):(($={})["immer-nothing"]=!0,$),L=G?Symbol.for("immer-draftable"):"__$immer_draftable",Q=G?Symbol.for("immer-state"):"__$immer_state",V="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Y={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Z="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ee=Object.getOwnPropertyDescriptors||function(e){var t={};return Z(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},te={},re={get:function(e,t){if(t===Q)return e;var n=l(e);if(!a(n,t))return function(e,t,r){var n,o=I(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,n,t);var o=n[t];return e.I||!r(o)?o:o===k(e.t,t)?(E(e),e.o[t]=M(e.A.h,o,e)):o},has:function(e,t){return t in l(e)},ownKeys:function(e){return Reflect.ownKeys(l(e))},set:function(e,t,r){var n=I(l(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=k(l(e),t),i=null==o?void 0:o[Q];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(f(r,o)&&(void 0!==r||a(e.t,t)))return!0;E(e),z(e)}return e.o[t]=r,e.D[t]=!0,!0},deleteProperty:function(e,t){return void 0!==k(e.t,t)||t in e.t?(e.D[t]=!1,E(e),z(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=l(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){e(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){e(12)}},ne={};exports.immerable=L,exports.nothing=H,o(re,function(e,t){ne[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ne.deleteProperty=function(e,t){return re.deleteProperty.call(this,e[0],t)},ne.set=function(e,t,r){return re.set.call(this,e[0],t,r,e[0])};var oe=function(){function n(e){this.O=B,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var o=n.prototype;return o.produce=function(t,n,o){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var a=this;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))})}}var u;if("function"!=typeof n&&e(6),void 0!==o&&"function"!=typeof o&&e(7),r(t)){var c=w(this),f=M(this,t,void 0),s=!0;try{u=n(f),s=!1}finally{s?O(c):x(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then(function(e){return P(c,o),A(e,c)},function(e){throw O(c),e}):(P(c,o),A(u,c))}if(!t||"object"!=typeof t){if((u=n(t))===H)return;return void 0===u&&(u=t),this.N&&v(u,!0),u}e(21,t)},o.produceWithPatches=function(e,t){var r,n,o=this;return"function"==typeof e?function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o.produceWithPatches(t,function(t){return e.apply(void 0,[t].concat(n))})}:[this.produce(e,t,function(e,t){r=e,n=t}),r,n]},o.createDraft=function(n){r(n)||e(8),t(n)&&(n=F(n));var o=w(this),i=M(this,n,void 0);return i[Q].C=!0,x(o),i},o.finishDraft=function(e,t){var r=e&&e[Q],n=r.A;return P(n,t),A(void 0,n)},o.setAutoFreeze=function(e){this.N=e},o.setUseProxies=function(t){t&&!B&&e(20),this.O=t},o.applyPatches=function(e,r){var n;for(n=r.length-1;n>=0;n--){var o=r[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}var i=b("Patches").$;return t(e)?i(e,r):this.produce(e,function(e){return i(e,r.slice(n+1))})},n}(),ie=new oe,ae=ie.produce,ue=ie.produceWithPatches.bind(ie),ce=ie.setAutoFreeze.bind(ie),fe=ie.setUseProxies.bind(ie),se=ie.applyPatches.bind(ie),pe=ie.createDraft.bind(ie),le=ie.finishDraft.bind(ie);exports.finishDraft=le,exports.createDraft=pe,exports.applyPatches=se,exports.setUseProxies=fe,exports.setAutoFreeze=ce,exports.produceWithPatches=ue,exports.produce=ae,exports.Immer=oe;var he=ae;exports.default=he;
},{}],"aLec":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkIntersection=t;var e=o("colinear"),r=o("parallel"),n=o("none");function t(t,o,c,u,a,s,l,p){var f=(p-s)*(c-t)-(l-a)*(u-o),v=(l-a)*(o-s)-(p-s)*(t-a),x=(c-t)*(o-s)-(u-o)*(t-a);if(0==f)return 0==v&&0==x?e:r;var y=v/f,d=x/f;return y>=0&&y<=1&&d>=0&&d<=1?i({x:t+y*(c-t),y:o+y*(u-o)}):n}function i(e){var r=o("intersecting");return r.point=e,r}function o(e){return{type:e}}
},{}],"aJYn":[function(require,module,exports) {
"use strict";function e(e,r,t,i,n,u){if(t!=n){if(t<=e&&e<=n)return!0;if(t>=e&&e>=n)return!0}else{if(i<=r&&r<=u)return!0;if(i>=r&&r>=u)return!0}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.colinearPointWithinSegment=e;
},{}],"UtDB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"checkIntersection",{enumerable:!0,get:function(){return e.checkIntersection}}),Object.defineProperty(exports,"colinearPointWithinSegment",{enumerable:!0,get:function(){return t.colinearPointWithinSegment}});var e=require("./check-intersection"),t=require("./colinear-point-within-segment");
},{"./check-intersection":"aLec","./colinear-point-within-segment":"aJYn"}],"n29C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.urlAlphabet=void 0;let e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";exports.urlAlphabet=e;
},{}],"iDyL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"urlAlphabet",{enumerable:!0,get:function(){return r.urlAlphabet}}),exports.random=exports.customRandom=exports.customAlphabet=exports.nanoid=void 0;var r=require("./url-alphabet/index.js");var t=function(r){return crypto.getRandomValues(new Uint8Array(r))};exports.random=t;var e=function(r,t,e){var n=(2<<Math.log(r.length-1)/Math.LN2)-1,o=-~(1.6*n*t/r.length);return function(){for(var a="";;)for(var u=e(o),p=o;p--;)if((a+=r[u[p]&n]||"").length===t)return a}};exports.customRandom=e;var n=function(r,n){return e(r,n,t)};exports.customAlphabet=n;var o=function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",e=crypto.getRandomValues(new Uint8Array(r));r--;){var n=63&e[r];t+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return t};exports.nanoid=o;
},{"./url-alphabet/index.js":"n29C"}],"qsmZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useState=p,exports.useReducer=h,exports.useEffect=v,exports.useLayoutEffect=l,exports.useRef=m,exports.useImperativeHandle=H,exports.useMemo=d,exports.useCallback=x,exports.useContext=y,exports.useDebugValue=E,exports.useErrorBoundary=b;var _,n,t,o=require("preact"),e=0,u=[],r=o.options.__b,i=o.options.__r,c=o.options.diffed,s=o.options.__c,f=o.options.unmount;function a(_,t){o.options.__h&&o.options.__h(n,_,e||t),e=0;var u=n.__H||(n.__H={__:[],__h:[]});return _>=u.__.length&&u.__.push({}),u.__[_]}function p(_){return e=1,h(C,_)}function h(t,o,e){var u=a(_++,2);return u.t=t,u.__c||(u.__=[e?e(o):C(void 0,o),function(_){var n=u.t(u.__[0],_);u.__[0]!==n&&(u.__=[n,u.__[1]],u.__c.setState({}))}],u.__c=n),u.__}function v(t,e){var u=a(_++,3);!o.options.__s&&F(u.__H,e)&&(u.__=t,u.__H=e,n.__H.__h.push(u))}function l(t,e){var u=a(_++,4);!o.options.__s&&F(u.__H,e)&&(u.__=t,u.__H=e,n.__h.push(u))}function m(_){return e=5,d(function(){return{current:_}},[])}function H(_,n,t){e=6,l(function(){"function"==typeof _?_(n()):_&&(_.current=n())},null==t?t:t.concat(_))}function d(n,t){var o=a(_++,7);return F(o.__H,t)&&(o.__=n(),o.__H=t,o.__h=n),o.__}function x(_,n){return e=8,d(function(){return _},n)}function y(t){var o=n.context[t.__c],e=a(_++,9);return e.__c=t,o?(null==e.__&&(e.__=!0,o.sub(n)),o.props.value):t.__}function E(_,n){o.options.useDebugValue&&o.options.useDebugValue(n?n(_):_)}function b(t){var o=a(_++,10),e=p();return o.__=t,n.componentDidCatch||(n.componentDidCatch=function(_){o.__&&o.__(_),e[1](_)}),[e[0],function(){e[1](void 0)}]}function g(){u.forEach(function(_){if(_.__P)try{_.__H.__h.forEach(A),_.__H.__h.forEach(D),_.__H.__h=[]}catch(n){_.__H.__h=[],o.options.__e(n,_.__v)}}),u=[]}o.options.__b=function(_){n=null,r&&r(_)},o.options.__r=function(t){i&&i(t),_=0;var o=(n=t.__c).__H;o&&(o.__h.forEach(A),o.__h.forEach(D),o.__h=[])},o.options.diffed=function(_){c&&c(_);var e=_.__c;e&&e.__H&&e.__H.__h.length&&(1!==u.push(e)&&t===o.options.requestAnimationFrame||((t=o.options.requestAnimationFrame)||function(_){var n,t=function(){clearTimeout(o),q&&cancelAnimationFrame(n),setTimeout(_)},o=setTimeout(t,100);q&&(n=requestAnimationFrame(t))})(g)),n=void 0},o.options.__c=function(_,n){n.some(function(_){try{_.__h.forEach(A),_.__h=_.__h.filter(function(_){return!_.__||D(_)})}catch(t){n.some(function(_){_.__h&&(_.__h=[])}),n=[],o.options.__e(t,_.__v)}}),s&&s(_,n)},o.options.unmount=function(_){f&&f(_);var n=_.__c;if(n&&n.__H)try{n.__H.__.forEach(A)}catch(_){o.options.__e(_,n.__v)}};var q="function"==typeof requestAnimationFrame;function A(_){var t=n;"function"==typeof _.__c&&_.__c(),n=t}function D(_){var t=n;_.__c=_.__(),n=t}function F(_,n){return!_||_.length!==n.length||n.some(function(n,t){return n!==_[t]})}function C(_,n){return"function"==typeof n?n(_):n}
},{"preact":"u8ui"}],"uCqK":[function(require,module,exports) {
var define;
var t;!function(t,n,e){function s(t){var n,e=this,s=(n=4022871197,function(t){t=String(t);for(var e=0;e<t.length;e++){var s=.02519603282416938*(n+=t.charCodeAt(e));s-=n=s>>>0,n=(s*=n)>>>0,n+=4294967296*(s-=n)}return 2.3283064365386963e-10*(n>>>0)});e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=s(" "),e.s1=s(" "),e.s2=s(" "),e.s0-=s(t),e.s0<0&&(e.s0+=1),e.s1-=s(t),e.s1<0&&(e.s1+=1),e.s2-=s(t),e.s2<0&&(e.s2+=1),s=null}function r(t,n){return n.c=t.c,n.s0=t.s0,n.s1=t.s1,n.s2=t.s2,n}function u(t,n){var e=new s(t),u=n&&n.state,o=e.next;return o.int32=function(){return 4294967296*e.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,u&&("object"==typeof u&&r(u,e),o.state=function(){return r(e,{})}),o}n&&n.exports?n.exports=u:e&&e.amd?e(function(){return u}):this.alea=u}(0,"object"==typeof module&&module,"function"==typeof t&&t);
},{}],"w3Ll":[function(require,module,exports) {
var define;
var t;!function(t,n,e){function r(t){var n=this,e="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var t=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^t^t>>>8},t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),n.next()}function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n}function u(t,n){var e=new r(t),u=n&&n.state,x=function(){return(e.next()>>>0)/4294967296};return x.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},x.int32=e.next,x.quick=x,u&&("object"==typeof u&&o(u,e),x.state=function(){return o(e,{})}),x}n&&n.exports?n.exports=u:e&&e.amd?e(function(){return u}):this.xor128=u}(0,"object"==typeof module&&module,"function"==typeof t&&t);
},{}],"OwKO":[function(require,module,exports) {
var define;
var t;!function(t,n,e){function o(t){var n=this,e="";n.next=function(){var t=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^t^t<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,t===(0|t)?n.x=t:e+=t;for(var o=0;o<e.length+64;o++)n.x^=0|e.charCodeAt(o),o==e.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function r(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n.v=t.v,n.d=t.d,n}function u(t,n){var e=new o(t),u=n&&n.state,x=function(){return(e.next()>>>0)/4294967296};return x.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},x.int32=e.next,x.quick=x,u&&("object"==typeof u&&r(u,e),x.state=function(){return r(e,{})}),x}n&&n.exports?n.exports=u:e&&e.amd?e(function(){return u}):this.xorwow=u}(0,"object"==typeof module&&module,"function"==typeof t&&t);
},{}],"OrVu":[function(require,module,exports) {
var define;
var n;!function(n,t,e){function r(n){var t=this;t.next=function(){var n,e,r=t.x,o=t.i;return n=r[o],e=(n^=n>>>7)^n<<24,e^=(n=r[o+1&7])^n>>>10,e^=(n=r[o+3&7])^n>>>3,e^=(n=r[o+4&7])^n<<7,n=r[o+7&7],e^=(n^=n<<13)^n<<9,r[o]=e,t.i=o+1&7,e},function(n,t){var e,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,e=0;e<t.length;++e)r[7&e]=r[7&e]<<15^t.charCodeAt(e)+r[e+1&7]<<13;for(;r.length<8;)r.push(0);for(e=0;e<8&&0===r[e];++e);for(8==e?r[7]=-1:r[e],n.x=r,n.i=0,e=256;e>0;--e)n.next()}(t,n)}function o(n,t){return t.x=n.x.slice(),t.i=n.i,t}function i(n,t){null==n&&(n=+new Date);var e=new r(n),i=t&&t.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},u.int32=e.next,u.quick=u,i&&(i.x&&o(i,e),u.state=function(){return o(e,{})}),u}t&&t.exports?t.exports=i:e&&e.amd?e(function(){return i}):this.xorshift7=i}(0,"object"==typeof module&&module,"function"==typeof n&&n);
},{}],"DrnH":[function(require,module,exports) {
var define;
var n;!function(n,t,e){function r(n){var t=this;t.next=function(){var n,e,r=t.w,o=t.X,u=t.i;return t.w=r=r+1640531527|0,e=o[u+34&127],n=o[u=u+1&127],e^=e<<13,n^=n<<17,e^=e>>>15,n^=n>>>12,e=o[u]=e^n,t.i=u,e+(r^r>>>16)|0},function(n,t){var e,r,o,u,i,c=[],f=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,f=Math.max(f,t.length)),o=0,u=-32;u<f;++u)t&&(r^=t.charCodeAt((u+32)%t.length)),0===u&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,u>=0&&(i=i+1640531527|0,o=0==(e=c[127&u]^=r+i)?o+1:0);for(o>=128&&(c[127&(t&&t.length||0)]=-1),o=127,u=512;u>0;--u)r=c[o+34&127],e=c[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,c[o]=r^e;n.w=i,n.X=c,n.i=o}(t,n)}function o(n,t){return t.i=n.i,t.w=n.w,t.X=n.X.slice(),t}function u(n,t){null==n&&(n=+new Date);var e=new r(n),u=t&&t.state,i=function(){return(e.next()>>>0)/4294967296};return i.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},i.int32=e.next,i.quick=i,u&&(u.X&&o(u,e),i.state=function(){return o(e,{})}),i}t&&t.exports?t.exports=u:e&&e.amd?e(function(){return u}):this.xor4096=u}(0,"object"==typeof module&&module,"function"==typeof n&&n);
},{}],"yIlK":[function(require,module,exports) {
var define;
var t;!function(t,n,e){function o(t){var n=this,e="";n.next=function(){var t=n.b,e=n.c,o=n.d,r=n.a;return t=t<<25^t>>>7^e,e=e-o|0,o=o<<24^o>>>8^r,r=r-t|0,n.b=t=t<<20^t>>>12^e,n.c=e=e-o|0,n.d=o<<16^e>>>16^r,n.a=r-t|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,t===Math.floor(t)?(n.a=t/4294967296|0,n.b=0|t):e+=t;for(var o=0;o<e.length+20;o++)n.b^=0|e.charCodeAt(o),n.next()}function r(t,n){return n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n}function u(t,n){var e=new o(t),u=n&&n.state,c=function(){return(e.next()>>>0)/4294967296};return c.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},c.int32=e.next,c.quick=c,u&&("object"==typeof u&&r(u,e),c.state=function(){return r(e,{})}),c}n&&n.exports?n.exports=u:e&&e.amd?e(function(){return u}):this.tychei=u}(0,"object"==typeof module&&module,"function"==typeof t&&t);
},{}],"KVVd":[function(require,module,exports) {

},{}],"D1cN":[function(require,module,exports) {
var global = arguments[3];
var define;
var n,r=arguments[3];!function(r,t,e){var o,u=256,i=6,a="random",f=e.pow(u,i),c=e.pow(2,52),s=2*c,l=u-1;function p(n,l,p){var m=[],v=d(function n(r,t){var e,o=[],u=typeof r;if(t&&"object"==u)for(e in r)try{o.push(n(r[e],t-1))}catch(i){}return o.length?o:"string"==u?r:r+"\0"}((l=1==l?{entropy:!0}:l||{}).entropy?[n,h(t)]:null==n?function(){try{var n;return o&&(n=o.randomBytes)?n=n(u):(n=new Uint8Array(u),(r.crypto||r.msCrypto).getRandomValues(n)),h(n)}catch(a){var e=r.navigator,i=e&&e.plugins;return[+new Date,r,i,r.screen,h(t)]}}():n,3),m),j=new g(m),S=function(){for(var n=j.g(i),r=f,t=0;n<c;)n=(n+t)*u,r*=u,t=j.g(1);for(;n>=s;)n/=2,r/=2,t>>>=1;return(n+t)/r};return S.int32=function(){return 0|j.g(4)},S.quick=function(){return j.g(4)/4294967296},S.double=S,d(h(j.S),t),(l.pass||p||function(n,r,t,o){return o&&(o.S&&y(o,j),n.state=function(){return y(j,{})}),t?(e[a]=n,r):n})(S,v,"global"in l?l.global:this==e,l.state)}function g(n){var r,t=n.length,e=this,o=0,i=e.i=e.j=0,a=e.S=[];for(t||(n=[t++]);o<u;)a[o]=o++;for(o=0;o<u;o++)a[o]=a[i=l&i+n[o%t]+(r=a[o])],a[i]=r;(e.g=function(n){for(var r,t=0,o=e.i,i=e.j,a=e.S;n--;)r=a[o=l&o+1],t=t*u+a[l&(a[o]=a[i=l&i+r])+(a[i]=r)];return e.i=o,e.j=i,t})(u)}function y(n,r){return r.i=n.i,r.j=n.j,r.S=n.S.slice(),r}function d(n,r){for(var t,e=n+"",o=0;o<e.length;)r[l&o]=l&(t^=19*r[l&o])+e.charCodeAt(o++);return h(r)}function h(n){return String.fromCharCode.apply(0,n)}if(d(e.random(),t),"object"==typeof module&&module.exports){module.exports=p;try{o=require("crypto")}catch(m){}}else"function"==typeof n&&n.amd?n(function(){return p}):e["seed"+a]=p}("undefined"!=typeof self?self:this,[],Math);
},{"crypto":"KVVd"}],"Kwju":[function(require,module,exports) {
var r=require("./lib/alea"),e=require("./lib/xor128"),i=require("./lib/xorwow"),o=require("./lib/xorshift7"),l=require("./lib/xor4096"),x=require("./lib/tychei"),u=require("./seedrandom");u.alea=r,u.xor128=e,u.xorwow=i,u.xorshift7=o,u.xor4096=l,u.tychei=x,module.exports=u;
},{"./lib/alea":"uCqK","./lib/xor128":"w3Ll","./lib/xorwow":"OwKO","./lib/xorshift7":"OrVu","./lib/xor4096":"DrnH","./lib/tychei":"yIlK","./seedrandom":"D1cN"}],"q69P":[function(require,module,exports) {
var t=function(){var e=function(e,s,i){this.errors=[],void 0===i.raw&&(this.errors.push("Empty input for node"),i.raw=""),e instanceof t.Grammar?(this.grammar=e,this.parent=null,this.depth=0,this.childIndex=0):(this.grammar=e.grammar,this.parent=e,this.depth=e.depth+1,this.childIndex=s),this.raw=i.raw,this.type=i.type,this.isExpanded=!1,this.grammar||this.errors.push("No grammar specified for this node "+this)};function s(t,e){this.node=t;var s=e.split(":");this.target=s[0],1===s.length?this.type=2:(this.rule=s[1],"POP"===this.rule?this.type=1:this.type=0)}function i(t,e){this.raw=e,this.grammar=t,this.falloff=1,Array.isArray(e)?this.defaultRules=e:("string"==typeof e||e instanceof String)&&(this.defaultRules=[e])}e.prototype.toString=function(){return"Node('"+this.raw+"' "+this.type+" d:"+this.depth+")"},e.prototype.expandChildren=function(s,i){if(this.children=[],this.finishedText="",this.childRule=s,void 0!==this.childRule){var r=t.parse(s);r.errors.length>0&&(this.errors=this.errors.concat(r.errors));for(var n=0;n<r.length;n++)this.children[n]=new e(this,n,r[n]),i||this.children[n].expand(i),this.finishedText+=this.children[n].finishedText}else this.errors.push("No child rule provided, can't expand children")},e.prototype.expand=function(e){if(!this.isExpanded)switch(this.isExpanded=!0,this.expansionErrors=[],this.type){case-1:this.expandChildren(this.raw,e);break;case 0:this.finishedText=this.raw;break;case 1:this.preactions=[],this.postactions=[];var i=t.parseTag(this.raw);this.symbol=i.symbol,this.modifiers=i.modifiers;for(var r=0;r<i.preactions.length;r++)this.preactions[r]=new s(this,i.preactions[r].raw);for(r=0;r<i.postactions.length;r++);for(r=0;r<this.preactions.length;r++)0===this.preactions[r].type&&this.postactions.push(this.preactions[r].createUndo());for(r=0;r<this.preactions.length;r++)this.preactions[r].activate();this.finishedText=this.raw;var n=this.grammar.selectRule(this.symbol,this,this.errors);this.expandChildren(n,e);for(r=0;r<this.modifiers.length;r++){var a=this.modifiers[r],h=[];if(a.indexOf("(")>0){var o=/\(([^)]+)\)/.exec(this.modifiers[r]);if(!o||o.length<2);else{h=o[1].split(",");a=this.modifiers[r].substring(0,a.indexOf("("))}}var l=this.grammar.modifiers[a];l?this.finishedText=l(this.finishedText,h):(this.errors.push("Missing modifier "+a),this.finishedText+="((."+a+"))")}for(r=0;r<this.postactions.length;r++)this.postactions[r].activate();break;case 2:this.action=new s(this,this.raw),this.action.activate(),this.finishedText=""}},e.prototype.clearEscapeChars=function(){this.finishedText=this.finishedText.replace(/\\\\/g,"DOUBLEBACKSLASH").replace(/\\/g,"").replace(/DOUBLEBACKSLASH/g,"\\")},s.prototype.createUndo=function(){return 0===this.type?new s(this.node,this.target+":POP"):null},s.prototype.activate=function(){var t=this.node.grammar;switch(this.type){case 0:this.ruleSections=this.rule.split(","),this.finishedRules=[],this.ruleNodes=[];for(var s=0;s<this.ruleSections.length;s++){var i=new e(t,0,{type:-1,raw:this.ruleSections[s]});i.expand(),this.finishedRules.push(i.finishedText)}t.pushRules(this.target,this.finishedRules,this);break;case 1:t.popRules(this.target);break;case 2:t.flatten(this.target,!0)}},s.prototype.toText=function(){switch(this.type){case 0:return this.target+":"+this.rule;case 1:return this.target+":POP";case 2:return"((some function))";default:return"((Unknown Action))"}},i.prototype.selectRule=function(t){if(this.conditionalRule){var e=this.grammar.expand(this.conditionalRule,!0);if(this.conditionalValues[e])if(null!=(i=this.conditionalValues[e].selectRule(t)))return i}if(this.ranking)for(var s=0;s<this.ranking.length;s++){var i;if(null!=(i=this.ranking.selectRule()))return i}if(void 0!==this.defaultRules){var r=0,n=this.distribution;switch(n||(n=this.grammar.distribution),n){case"shuffle":this.shuffledDeck&&0!==this.shuffledDeck.length||(this.shuffledDeck=function(t,e){var s,i,r=t.length;for(;0!==r;)i=Math.floor(Math.random()*r),s=t[r-=1],t[r]=t[i],t[i]=s;return t}(Array.apply(null,{length:this.defaultRules.length}).map(Number.call,Number),this.falloff)),r=this.shuffledDeck.pop();break;case"weighted":t.push("Weighted distribution not yet implemented");break;case"falloff":t.push("Falloff distribution not yet implemented");break;default:r=Math.floor(Math.pow(Math.random(),this.falloff)*this.defaultRules.length)}return this.defaultUses||(this.defaultUses=[]),this.defaultUses[r]=++this.defaultUses[r]||1,this.defaultRules[r]}return t.push("No default rules defined for "+this),null},i.prototype.clearState=function(){this.defaultUses&&(this.defaultUses=[])};var r=function(t,e,s){this.key=e,this.grammar=t,this.rawRules=s,this.baseRules=new i(this.grammar,s),this.clearState()};r.prototype.clearState=function(){this.stack=[this.baseRules],this.uses=[],this.baseRules.clearState()},r.prototype.pushRules=function(t){var e=new i(this.grammar,t);this.stack.push(e)},r.prototype.popRules=function(){this.stack.pop()},r.prototype.selectRule=function(t,e){return this.uses.push({node:t}),0===this.stack.length?(e.push("The rule stack for '"+this.key+"' is empty, too many pops?"),"(("+this.key+"))"):this.stack[this.stack.length-1].selectRule()},r.prototype.getActiveRules=function(){return 0===this.stack.length?null:this.stack[this.stack.length-1].selectRule()},r.prototype.rulesToJSON=function(){return JSON.stringify(this.rawRules)};var n=function(t,e){this.modifiers={},this.loadFromRawObj(t)};function a(t){var e=t.toLowerCase();return"a"===e||"e"===e||"i"===e||"o"===e||"u"===e}n.prototype.clearState=function(){for(var t=Object.keys(this.symbols),e=0;e<t.length;e++)this.symbols[t[e]].clearState()},n.prototype.addModifiers=function(t){for(var e in t)t.hasOwnProperty(e)&&(this.modifiers[e]=t[e])},n.prototype.loadFromRawObj=function(t){if(this.raw=t,this.symbols={},this.subgrammars=[],this.raw)for(var e in this.raw)this.raw.hasOwnProperty(e)&&(this.symbols[e]=new r(this,e,this.raw[e]))},n.prototype.createRoot=function(t){return new e(this,0,{type:-1,raw:t})},n.prototype.expand=function(t,e){var s=this.createRoot(t);return s.expand(),e||s.clearEscapeChars(),s},n.prototype.flatten=function(t,e){return this.expand(t,e).finishedText},n.prototype.toJSON=function(){for(var t=Object.keys(this.symbols),e=[],s=0;s<t.length;s++){var i=t[s];e.push(' "'+i+'" : '+this.symbols[i].rulesToJSON())}return"{\n"+e.join(",\n")+"\n}"},n.prototype.pushRules=function(t,e,s){void 0===this.symbols[t]?(this.symbols[t]=new r(this,t,e),s&&(this.symbols[t].isDynamic=!0)):this.symbols[t].pushRules(e)},n.prototype.popRules=function(t){this.symbols[t]||this.errors.push("Can't pop: no symbol for key "+t),this.symbols[t].popRules()},n.prototype.selectRule=function(t,e,s){if(this.symbols[t])return this.symbols[t].selectRule(e,s);for(var i=0;i<this.subgrammars.length;i++)if(this.subgrammars[i].symbols[t])return this.subgrammars[i].symbols[t].selectRule();return s.push("No symbol for '"+t+"'"),"(("+t+"))"};var h={replace:function(t,e){return t.replace(new RegExp(e[0].replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),e[1])},capitalizeAll:function(t){for(var e,s="",i=!0,r=0;r<t.length;r++)(e=t.charAt(r))>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"?i?(s+=t.charAt(r).toUpperCase(),i=!1):s+=t.charAt(r):(i=!0,s+=t.charAt(r));return s},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substring(1)},a:function(t){if(t.length>0){if("u"===t.charAt(0).toLowerCase()&&t.length>2&&"i"===t.charAt(2).toLowerCase())return"a "+t;if(a(t.charAt(0)))return"an "+t}return"a "+t},firstS:function(t){console.log(t);var e=t.split(" "),s=h.s(e[0])+" "+e.slice(1).join(" ");return console.log(s),s},s:function(t){switch(t.charAt(t.length-1)){case"s":case"h":case"x":return t+"es";case"y":return a(t.charAt(t.length-2))?t+"s":t.substring(0,t.length-1)+"ies";default:return t+"s"}},ed:function(t){switch(t.charAt(t.length-1)){case"s":return t+"ed";case"e":return t+"d";case"h":case"x":return t+"ed";case"y":return a(t.charAt(t.length-2))?t+"d":t.substring(0,t.length-1)+"ied";default:return t+"ed"}}};return(t={createGrammar:function(t){return new n(t)},parseTag:function(e){for(var s={symbol:void 0,preactions:[],postactions:[],modifiers:[]},i=t.parse(e),r=void 0,n=0;n<i.length;n++)if(0===i[n].type){if(void 0!==r)throw"multiple main sections in "+e;r=i[n].raw}else s.preactions.push(i[n]);if(void 0===r);else{var a=r.split(".");s.symbol=a[0],s.modifiers=a.slice(1)}return s},parse:function(t){var e=0,s=!1,i=[],r=!1,n=[],a=0,h="",o=void 0;if(null===t)return(i=[]).errors=n,i;function l(e,s,r){var a;s-e<1&&(1===r&&n.push(e+": empty tag"),2===r&&n.push(e+": empty action")),a=void 0!==o?h+"\\"+t.substring(o+1,s):t.substring(e,s),i.push({type:r,raw:a}),o=void 0,h=""}for(var u=0;u<t.length;u++){if(r)r=!1;else switch(t.charAt(u)){case"[":0!==e||s||(a<u&&l(a,u,0),a=u+1),e++;break;case"]":0!==--e||s||(l(a,u,2),a=u+1);break;case"#":0===e&&(s?(l(a,u,1),a=u+1):(a<u&&l(a,u,0),a=u+1),s=!s);break;case"\\":r=!0,h+=t.substring(a,u),a=u+1,o=u}}return a<t.length&&l(a,t.length,0),s&&n.push("Unclosed tag"),e>0&&n.push("Too many ["),e<0&&n.push("Too many ]"),(i=i.filter(function(t){return 0!==t.type||0!==t.raw.length})).errors=n,i}}).baseEngModifiers=h,t.TraceryNode=e,t.Grammar=n,t.Symbol=r,t.RuleSet=i,t}();module.exports=t;
},{}],"gKDo":[function(require,module,exports) {
var define;
var o,r=function(){var o=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={};function t(o,r){if(!e[o]){e[o]={};for(var n=0;n<o.length;n++)e[o][o.charAt(n)]=n}return e[o][r]}var s={compressToBase64:function(o){if(null==o)return"";var n=s._compress(o,6,function(o){return r.charAt(o)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(o){return null==o?"":""==o?null:s._decompress(o.length,32,function(n){return t(r,o.charAt(n))})},compressToUTF16:function(r){return null==r?"":s._compress(r,15,function(r){return o(r+32)})+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:s._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=s.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;e<t;e++){var i=r.charCodeAt(e);n[2*e]=i>>>8,n[2*e+1]=i%256}return n},decompressFromUint8Array:function(r){if(null==r)return s.decompress(r);for(var n=new Array(r.length/2),e=0,t=n.length;e<t;e++)n[e]=256*r[2*e]+r[2*e+1];var i=[];return n.forEach(function(r){i.push(o(r))}),s.decompress(i.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":s._compress(o,6,function(o){return n.charAt(o)})},decompressFromEncodedURIComponent:function(o){return null==o?"":""==o?null:(o=o.replace(/ /g,"+"),s._decompress(o.length,32,function(r){return t(n,o.charAt(r))}))},compress:function(r){return s._compress(r,16,function(r){return o(r)})},_compress:function(o,r,n){if(null==o)return"";var e,t,s,i={},p={},u="",c="",a="",l=2,f=3,h=2,d=[],m=0,v=0;for(s=0;s<o.length;s+=1)if(u=o.charAt(s),Object.prototype.hasOwnProperty.call(i,u)||(i[u]=f++,p[u]=!0),c=a+u,Object.prototype.hasOwnProperty.call(i,c))a=c;else{if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=i[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++),i[c]=f++,a=String(u)}if(""!==a){if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=i[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:s._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(r,n,e){var t,s,i,p,u,c,a,l=[],f=4,h=4,d=3,m="",v=[],w={val:e(0),position:n,index:1};for(t=0;t<3;t+=1)l[t]=t;for(i=0,u=Math.pow(2,2),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;switch(i){case 0:for(i=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;a=o(i);break;case 1:for(i=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;a=o(i);break;case 2:return""}for(l[3]=a,s=a,v.push(a);;){if(w.index>r)return"";for(i=0,u=Math.pow(2,d),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;switch(a=i){case 0:for(i=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;l[h++]=o(i),a=h-1,f--;break;case 1:for(i=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),i|=(p>0?1:0)*c,c<<=1;l[h++]=o(i),a=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,d),d++),l[a])m=l[a];else{if(a!==h)return null;m=s+s.charAt(0)}v.push(m),l[h++]=s+m.charAt(0),s=m,0==--f&&(f=Math.pow(2,d),d++)}}};return s}();"function"==typeof o&&o.amd?o(function(){return r}):"undefined"!=typeof module&&null!=module&&(module.exports=r);
},{}],"XvkA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.traceryConstellations=exports.bgmTracks=exports.mapStars=exports.mapSpacing=exports.mapMaxStars=exports.mapMinStars=exports.mapHeight=exports.mapWidth=exports.numConstellations=void 0;var e=5;exports.numConstellations=e;var t=64;exports.mapWidth=t;var a=48;exports.mapHeight=a;var r=30;exports.mapMinStars=r;var s=50;exports.mapMaxStars=s;var o=.9;exports.mapSpacing=o;var p=["*","*","*","o","O",".",".",".","+","+"];exports.mapStars=p;var i=["The_Belt_of_Death","The_Heart_of_Ambition","The_Princess_of_Leadership"].map(function(e){return{name:e.replaceAll("_"," "),src:"./audio/".concat(e,".mp3"),artist:"Andrew Yolland"}});exports.bgmTracks=i;var n={group:["belt","arm","leg","heart","collection","prince","princess","bastard","ensorcellment","enchantment","convalescence"],grouping:["stars","patience","death","possession","temperament","perspective","ambition","leadership"],constellation:["The #group.capitalize# of #grouping.capitalize#","#group.capitalize# of #grouping.capitalize#"]};exports.traceryConstellations=n;
},{}],"wp4r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseInput=a,exports.generateOutput=i,exports.rnd=s,exports.rndInt=p,exports.rndItm=f,exports.calcAngleDegrees=l,exports.angleBetween=d,exports.useGridPosStyle=g,exports.useGridStyle=O,exports.useTextDimensions=m,exports.findIndexOrUndefined=b;var e=n(require("lz-string")),t=require("preact/hooks"),r=require("./config");function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(t){try{var r=e.default.decompressFromBase64(t);if(!r)return;return JSON.parse(r)}catch(n){return}}function i(t){return e.default.compressToBase64(JSON.stringify(t))}function s(e,t){return Math.floor(Math.random()*(t-e)+e)}function p(e,t){return Math.floor(s(e,t))}function f(e){return e[p(0,e.length)]}function l(e,t){return 180*Math.atan2(t,e)/Math.PI}function d(e,t,r,n){return r>e?l(r-e,n-t):l(e-r,t-n)}function g(e,r,n,o){return(0,t.useMemo)(function(){return{gridArea:"".concat(r+1," / ").concat(e+1," / ").concat(o?"span ".concat(o):"auto"," / ").concat(n?"span ".concat(n):"auto")}},[e,r,n,o])}function O(e,n,o){return(0,t.useMemo)(function(){return u(u({},o),{},{gridTemplateColumns:"repeat(".concat(e,", ").concat(r.mapSpacing,"rem)"),gridTemplateRows:"repeat(".concat(n,", ").concat(r.mapSpacing,"rem)")})},[e,n,o])}function m(e){return[(0,t.useMemo)(function(){return e.split("\n").reduce(function(e,t){return Math.max(e,t.length)},0)},[e]),(0,t.useMemo)(function(){return e.split("\n").length},[e])]}function b(e,t){var r=e.findIndex(t);return-1===r?void 0:r}
},{"lz-string":"gKDo","preact/hooks":"qsmZ","./config":"XvkA"}],"ehjp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextPiece=u;var e=require("preact/jsx-runtime");require("preact");var r=require("./utils");function t(e,r){if(null==e)return{};var t,u,i=n(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(u=0;u<o.length;u++)t=o[u],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function n(e,r){if(null==e)return{};var t,n,u={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(u[t]=e[t]);return u}function u(n){var u=n.x,i=n.y,o=t(n,["x","y"]);return(0,e.jsx)("span",Object.assign({},o,{style:(0,r.useGridPosStyle)(u,i)}),void 0)}
},{"preact/jsx-runtime":"I8Gw","preact":"u8ui","./utils":"wp4r"}],"Dlso":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Text=f;var e=require("preact/jsx-runtime"),r=require("./TextPiece"),t=require("./utils");function n(e,r){return a(e)||u(e,r)||o(e,r)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,r){if(e){if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,r):void 0}}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,i=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done)&&(t.push(l.value),!r||t.length!==r);n=!0);}catch(a){i=!0,o=a}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return t}}function a(e){if(Array.isArray(e))return e}function c(e,r){if(null==e)return{};var t,n,i=s(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function s(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}function f(i){var o=i.x,l=i.y,u=i.align,a=void 0===u?"left":u,s=i.children,f=c(i,["x","y","align","children"]),y=n((0,t.useTextDimensions)(s),2),p=y[0],b=y[1],d=(0,t.useGridPosStyle)("left"===a?o:o-p,l,p,b),m=(0,t.useGridStyle)(p,b,d),v=f.htmlFor?"label":"span";return(0,e.jsx)(v,Object.assign({className:"subgrid fill",style:m},f,{children:s.split("\n").map(function(t,n){return t.split("").map(function(t,i){return(0,e.jsx)(r.TextPiece,Object.assign({x:i,y:n},{children:t}),"".concat(n,"-").concat(i))})})}),void 0)}
},{"preact/jsx-runtime":"I8Gw","./TextPiece":"ehjp","./utils":"wp4r"}],"iqvG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Border=o;var e=require("preact/jsx-runtime"),r=require("./Text");function t(e,r){if(null==e)return{};var t,o,c=n(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}function n(e,r){if(null==e)return{};var t,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}function o(n){var o=n.x,c=n.y,i=n.w,s=n.h,d=n.sideL,a=void 0===d?"|":d,x=n.sideR,v=void 0===x?"|":x,l=n.sideT,u=void 0===l?"-":l,j=n.sideB,p=void 0===j?"-":j,y=n.cornerTL,O=void 0===y?"/":y,b=n.cornerTR,f=void 0===b?"\\":b,T=n.cornerBL,g=void 0===T?"\\":T,h=n.cornerBR,B=void 0===h?"/":h,L=t(n,["x","y","w","h","sideL","sideR","sideT","sideB","cornerTL","cornerTR","cornerBL","cornerBR"]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(r.Text,Object.assign({x:o,y:c},L,{children:"".concat(O).concat(u.repeat(i-2)).concat(f)}),void 0),(0,e.jsx)(r.Text,Object.assign({x:o,y:c+s-1},L,{children:"".concat(g).concat(p.repeat(i-2)).concat(B)}),void 0),(0,e.jsx)(r.Text,Object.assign({x:o,y:c+1},L,{children:"".concat(a,"\n").repeat(s-2)}),void 0),(0,e.jsx)(r.Text,Object.assign({x:o+i-1,y:c+1},L,{children:"".concat(v,"\n").repeat(s-2)}),void 0)]},void 0)}
},{"preact/jsx-runtime":"I8Gw","./Text":"Dlso"}],"OwxF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BorderedText=y;var e=require("preact/jsx-runtime"),r=require("./Border"),t=require("./Text"),n=require("./utils");function i(e,r){return s(e)||u(e,r)||l(e,r)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done)&&(t.push(l.value),!r||t.length!==r);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return t}}function s(e){if(Array.isArray(e))return e}function c(e,r){if(null==e)return{};var t,n,i=f(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function f(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}function y(o){var l=o.x,a=o.y,u=o.htmlFor,s=o.align,f=void 0===s?"left":s,y=o.minW,d=o.minH,m=o.fill,b=o.title,h=o.children,p=c(o,["x","y","htmlFor","align","minW","minH","fill","title","children"]),v=i((0,n.useTextDimensions)(h),2),x=v[0],g=v[1],j=Math.max(y||0,x),O=Math.max(d||0,g),S=(0,n.useGridPosStyle)("left"===f?l:l-(j+2),a,j+2,O+2),w=(0,n.useGridStyle)(j+2,O+2,S),A=u?"label":"span";return(0,e.jsxs)(A,Object.assign({className:"subgrid".concat(m?" fill":""),htmlFor:u,title:b,style:w},{children:[(0,e.jsx)(r.Border,Object.assign({x:0,y:0,w:j+2,h:O+2},p),void 0),(0,e.jsx)(t.Text,Object.assign({x:1,y:1},{children:h}),void 0)]}),void 0)}
},{"preact/jsx-runtime":"I8Gw","./Border":"iqvG","./Text":"Dlso","./utils":"wp4r"}],"Jb85":[function(require,module,exports) {
module.exports=function(r,a,f,o,t){if(!t){var e=[];t=function(r,a){e.push({x:r,y:a})}}var n=f-r,s=o-a,u=Math.abs(n),i=Math.abs(s),h=0,v=n>0?1:-1,b=s>0?1:-1;if(u>i)for(var c=r,l=a;v<0?c>=f:c<=f;c+=v)t(c,l),(h+=i)<<1>=u&&(l+=b,h-=u);else for(c=r,l=a;b<0?l>=o:l<=o;l+=b)t(c,l),(h+=u)<<1>=i&&(c+=v,h-=i);return e};
},{}],"nsPd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConstellationEdgePiece=i;var e=require("preact/jsx-runtime");require("preact");var r=require("./utils");function t(e,r){if(null==e)return{};var t,i,l=n(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function n(e,r){if(null==e)return{};var t,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}function i(n){var i=n.x,l=n.y,o=t(n,["x","y"]);return(0,e.jsx)("label",Object.assign({},o,{style:(0,r.useGridPosStyle)(i,l)}),void 0)}
},{"preact/jsx-runtime":"I8Gw","preact":"u8ui","./utils":"wp4r"}],"hJTo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Constellation=p;var e=require("preact/jsx-runtime"),r=i(require("bresenham")),t=require("nanoid");require("preact");var n=require("preact/hooks"),o=require("./ConstellationEdgePiece"),a=require("./utils");function i(e){return e&&e.__esModule?e:{default:e}}function u(e,r){return d(e)||f(e,r)||c(e,r)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return t}}function d(e){if(Array.isArray(e))return e}function y(e,r){if(null==e)return{};var t,n,o=b(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function b(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}function p(i){var l=i.starmap,c=i.constellation,s=i.constellationIdx,f=i.getEdgeLabel,d=y(i,["starmap","constellation","constellationIdx","getEdgeLabel"]),b=(0,n.useMemo)(function(){return c.reduce(function(e,n,o){var i,c=u(n,2),s=c[0],f=c[1],d=u(l[s],2),y=d[0],b=d[1],p=u(l[f],2),m=p[0],g=p[1],h=(0,a.angleBetween)(y,b,m,g)/360;switch(h*=8,h=Math.round(h),h/=8,h*=360){case 90:case-90:i="|";break;case 0:i="-";break;case-45:i="/";break;case 45:i="\\";break;default:i="?"}var v=-1,j=-1,x=[];return(0,r.default)(y,b,m,g,function(e,r){e===y&&r===b||e===m&&r===g||(j!==r||45!==h&&-45!==h&&90!==h&&-90!==h)&&(v!==e||45!==h&&-45!==h&&0!==h)&&(x.push({x:e,y:r,s:i,id:(0,t.nanoid)(),edge:o}),v=e,j=r)}),e.concat(x)},[])},[c]);return(0,e.jsx)(e.Fragment,{children:b.map(function(r){return(0,e.jsx)(o.ConstellationEdgePiece,Object.assign({},d,{htmlFor:f(s,r.edge),x:r.x,y:r.y},{children:r.s}),r.id)})},void 0)}
},{"preact/jsx-runtime":"I8Gw","bresenham":"Jb85","nanoid":"iDyL","preact":"u8ui","preact/hooks":"qsmZ","./ConstellationEdgePiece":"nsPd","./utils":"wp4r"}],"VzEM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Star=y;var r=require("preact/jsx-runtime");require("preact");var t=require("preact/hooks"),e=require("./config"),n=require("./utils");function o(r,t){if(null==r)return{};var e,n,o=a(r,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)e=i[n],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(r,e)&&(o[e]=r[e])}return o}function a(r,t){if(null==r)return{};var e,n,o={},a=Object.keys(r);for(n=0;n<a.length;n++)e=a[n],t.indexOf(e)>=0||(o[e]=r[e]);return o}function i(r,t){return f(r)||s(r,t)||l(r,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(r,t){if(r){if("string"==typeof r)return c(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(r,t):void 0}}function c(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function s(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return e}}function f(r){if(Array.isArray(r))return r}function y(a){var u=i(a.star,2),l=u[0],c=u[1],s=a.starIdx,f=a.constellationIdx,y=a.getStarLabel,b=o(a,["star","starIdx","constellationIdx","getStarLabel"]),d=(0,t.useMemo)(function(){return(0,n.rndItm)(e.mapStars)},[]);return(0,r.jsx)("label",Object.assign({},b,{"data-star":s,htmlFor:y(f,s),style:(0,n.useGridPosStyle)(l,c)},{children:d}),void 0)}
},{"preact/jsx-runtime":"I8Gw","preact":"u8ui","preact/hooks":"qsmZ","./config":"XvkA","./utils":"wp4r"}],"NEVk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useImmerReducer=S,exports.App=M;var e=require("preact/jsx-runtime"),t=f(require("copy-to-clipboard")),n=f(require("immer")),r=require("line-intersect"),o=require("nanoid");require("preact");var a=require("preact/hooks"),i=f(require("seedrandom")),s=f(require("tracery-grammar")),c=require("./Border"),l=require("./BorderedText"),u=require("./config"),d=require("./Constellation"),g=require("./Star"),p=require("./Text"),m=require("./utils");function f(e){return e&&e.__esModule?e:{default:e}}function y(e){return b(e)||v(e)||k(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e){if(Array.isArray(e))return C(e)}function x(e,t){return O(e)||T(e,t)||k(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}function O(e){if(Array.isArray(e))return e}function S(e,t,r){var o=(0,a.useMemo)(function(){return(0,n.default)(e)},[e]);return(0,a.useReducer)(o,t,r)}var I=s.default.createGrammar(u.traceryConstellations);function w(e,t,n){switch(e){case"remove-edge":return"".concat(e,"-").concat(t,"-").concat(n);case"select-constellation":return"".concat(e,"-").concat(t);case"select-star":return"".concat(e,"-").concat(n);case"guess":return"".concat(e,"-").concat(t)}}I.addModifiers(s.default.baseEngModifiers);var B=function(e,t){switch(t.type){case"add-edge":if(void 0===e.currentConstellation)return;e.constellations[e.currentConstellation].push(t.payload);break;case"remove-edge":e.currentConstellation=t.payload.constellation,e.currentStar=void 0,e.constellations[t.payload.constellation].splice(t.payload.edge,1);break;case"guess":if(void 0===e.currentConstellation)return;e.guesses=e.guesses.map(function(e){return e===t.payload?-1:e}),e.guesses[e.currentConstellation]=t.payload;break;case"set-current-constellation":e.currentConstellation=t.payload,e.currentStar=void 0;break;case"set-current-star":e.currentStar=t.payload;break;case"set-copied":e.copied=t.payload;break;case"set-help":e.help=t.payload;break;case"set-seed":e.mode="creating",e.seed=t.payload,e.constellations=new Array(u.numConstellations).fill(0).map(function(){return[]}),e.guesses=[],e.currentConstellation=void 0,e.currentStar=void 0;break;case"set-playing":e.audioPlaying=t.payload;break;case"next-track":e.audioTrack=(e.audioTrack+1)%u.bgmTracks.length;break;case"previous-track":e.audioTrack=e.audioTrack-1,e.audioTrack<0&&(e.audioTrack=u.bgmTracks.length-1);break;case"submit-guesses":e.guessed=!0,e.currentConstellation=void 0}};function M(){var n=(0,a.useMemo)(function(){var e=window.location.search.replace("?",""),t=(0,m.parseInput)(e);return t?{mode:"guessing",seed:t.seed,constellations:t.constellations,guesses:new Array(t.constellations.length).fill(-1),currentConstellation:void 0,currentStar:void 0,copied:!1,guessed:!1,help:!localStorage.getItem("guessing"),audioPlaying:!0,audioTrack:t.audioTrack}:{mode:"creating",seed:(0,o.nanoid)(),constellations:new Array(u.numConstellations).fill(0).map(function(){return[]}),guesses:[],currentConstellation:void 0,currentStar:void 0,copied:!1,guessed:!1,help:!localStorage.getItem("creating"),audioPlaying:!0,audioTrack:(0,m.rndInt)(0,u.bgmTracks.length)}},[]);(0,a.useEffect)(function(){localStorage.setItem(n.mode,"1")},[n.mode]);var s=x(S(B,n),2),f=s[0],h=s[1],v=(0,a.useMemo)(function(){(0,i.default)(f.seed,{global:!0});for(var e=new Set;e.size<u.numConstellations;)e.add(I.flatten("#constellation#"));return{starmap:new Array((0,m.rndInt)(u.mapMinStars,u.mapMaxStars)).fill(0).map(function(){return[(0,m.rndInt)(1,u.mapWidth-1),(0,m.rndInt)(3+u.numConstellations,u.mapHeight-1)]}),names:y(e),fakeOrder:new Array(e.size).fill(0).map(function(e,t){return t}).sort(function(){return Math.random()-.5}).map(function(e,t){return{fake:e,original:t}}).sort(function(e,t){return e.fake-t.fake})}},[f.seed]),b=v.starmap,j=v.names,k=v.fakeOrder,C=(0,a.useMemo)(function(){return b.map(function(e,t){return(0,m.findIndexOrUndefined)(f.constellations,function(e){return e.some(function(e){return e.includes(t)})})})},[b,f.constellations]),T=(0,a.useMemo)(function(){if("creating"===f.mode){var e={seed:f.seed,constellations:f.constellations,audioTrack:f.audioTrack};return(0,m.generateOutput)(e)}},[f]),O=(0,a.useMemo)(function(){return f.constellations.every(function(e){return e.length>0})},[f.constellations]),M=(0,a.useCallback)(function(e,t){return h({type:"remove-edge",payload:{constellation:e,edge:t}})},[]),q=(0,a.useCallback)(function(e){return h({type:"set-current-constellation",payload:parseInt(e.currentTarget.value,10)})},[]),A=(0,a.useCallback)(function(e){if(void 0!==f.currentConstellation){var t=f.currentStar,n=parseInt(e.currentTarget.value,10);if(t!==n){var o=f.constellations.filter(function(e,t){return t!==f.currentConstellation});o.some(function(e){return e.some(function(e){return e.includes(n)})})||(void 0!==t?o.some(function(e){return e.some(function(e){var o=x(e,2),a=o[0],i=o[1];return"intersecting"===r.checkIntersection.apply(void 0,y([a,i,t,n].flatMap(function(e){return b[e]}))).type})})||(f.constellations[f.currentConstellation].some(function(e){return e.join(",")===[t,n].sort().join(",")})?h({type:"set-current-star",payload:n}):(h({type:"add-edge",payload:[t,n].sort()}),h({type:"set-current-star",payload:n}))):h({type:"set-current-star",payload:n}))}else h({type:"set-current-star",payload:void 0})}},[f.currentStar,f.constellations,f.currentConstellation]),F=(0,a.useCallback)(function(){return h({type:"set-seed",payload:(0,o.nanoid)()})},[]),P=(0,a.useCallback)(function(){return h({type:"set-help",payload:!f.help})},[f.help]),H=(0,a.useCallback)(function(){(0,t.default)("".concat(window.location.href,"?").concat(T)),h({type:"set-copied",payload:!0}),setTimeout(function(){h({type:"set-copied",payload:!1})},500)},[T,h]),W=(0,a.useCallback)(function(){return h({type:"set-playing",payload:!f.audioPlaying})},[h,f.audioPlaying]),E=(0,a.useCallback)(function(){return h({type:"next-track",payload:void 0})},[h]),R=(0,a.useCallback)(function(){return h({type:"previous-track",payload:void 0})},[h]),L=(0,a.useCallback)(function(){return h({type:"set-playing",payload:!0})},[h]),U=(0,a.useCallback)(function(){return h({type:"set-playing",payload:!1})},[h]),_=(0,a.useRef)(null);(0,a.useEffect)(function(){var e=_.current;e&&e.paused!==!f.audioPlaying&&(f.audioPlaying?e.play().catch(function(e){console.warn("couldn't play audio",e),h({type:"set-playing",payload:!1})}):e.pause())},[f.audioPlaying,f.audioTrack,_,h]);var X=(0,a.useCallback)(function(e){return h({type:"guess",payload:parseInt(e.currentTarget.value,10)})},[]),z=(0,a.useCallback)(function(){return h({type:"submit-guesses",payload:void 0})},[h]),G=(0,a.useMemo)(function(){return function(e,t){return f.guessed?"":w("creating"===f.mode?"remove-edge":"guess",e,t)}},[f.mode,f.guessed]),D=(0,a.useMemo)(function(){return function(e,t){return f.guessed?"":w("creating"===f.mode?"select-star":"guess",e,t)}},[f.mode,f.guessed]),N=(0,a.useCallback)(function(e,t){return"guessing"===f.mode&&f.guessed&&e===k[t].fake},[f.mode,f.guessed,k]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("style",{children:"\n\t\t\t\tbody {\n\t\t\t\t\tmin-width: ".concat(u.mapWidth*u.mapSpacing,'rem;\n\t\t\t\t}\n\t\t\t\t[data-constellation="').concat(f.currentConstellation,'"] {\n\t\t\t\t\tcolor: rgba(255,255,255,1.0)\n\t\t\t\t}\n\t\t\t\t[data-star="').concat(f.currentStar,'"] {\n\t\t\t\t\tcolor: rgba(255,0,0,1.0)\n\t\t\t\t}')},void 0),(0,e.jsxs)("main",Object.assign({"data-guessed":f.guessed,className:"map",style:(0,m.useGridStyle)(u.mapWidth,u.mapHeight)},{children:[f.constellations.map(function(t,n){var r=N(f.guesses[n],n);return(0,e.jsx)(d.Constellation,{"data-correct":f.currentConstellation===n?r.toString():r,"data-constellation":"creating"===f.mode?n:(0,m.findIndexOrUndefined)(f.guesses,function(e){return e===n}),starmap:b,constellation:t,constellationIdx:n,getEdgeLabel:G},n)}),b.map(function(t,n){var r=C[n],o=void 0!==r&&N(f.guesses[r],r);return(0,e.jsx)(g.Star,{"data-correct":void 0!==f.currentConstellation&&f.currentConstellation===r?o.toString():o,"data-constellation":"creating"===f.mode?r:(0,m.findIndexOrUndefined)(f.guesses,function(e){return e===r}),star:t,starIdx:n,constellationIdx:r||-1,getStarLabel:D},n)}),k.map(function(t){var n=t.fake,r=t.original;var o=j[r],a=f.currentConstellation===r?"[".concat(o,"]"):o,i="[".concat("creating"===f.mode?f.constellations[r].length>0?"X":" ":"guessing"===f.mode&&f.guesses[r]>=0?f.guessed&&N(f.guesses[r],r)?"O":"X":" ","] ").concat(a);return(0,e.jsx)(p.Text,Object.assign({"data-correct":N(f.guesses[r],r).toString(),"data-constellation":r,htmlFor:w("select-constellation",r,0),x:1,y:n+3},{children:i}),j[r])}),(0,e.jsx)(c.Border,{x:0,y:0,w:u.mapWidth,h:u.mapHeight},void 0),"creating"===f.mode&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l.BorderedText,Object.assign({x:1,y:3+u.numConstellations,htmlFor:O?"copy":""},{children:O?f.copied?"copied!":"copy":"draw all constellations"}),void 0),(0,e.jsx)(l.BorderedText,Object.assign({align:"right",x:u.mapWidth,y:u.mapHeight-3,htmlFor:"reroll",title:"reroll"},{children:"reroll"}),void 0)]},void 0),"guessing"===f.mode&&!f.guessed&&f.guesses.every(function(e){return e>=0})&&(0,e.jsx)(l.BorderedText,Object.assign({title:"submit",x:1,y:3+u.numConstellations,htmlFor:"submit-guesses"},{children:"submit"}),void 0),"guessing"===f.mode&&f.guessed&&(0,e.jsx)(l.BorderedText,Object.assign({x:1,y:3+u.numConstellations},{children:"".concat(f.guesses.filter(N).length,"/").concat(u.numConstellations)}),void 0),(0,e.jsx)(l.BorderedText,Object.assign({x:0,y:0},{children:"TODO: title"}),void 0),(0,e.jsx)(l.BorderedText,Object.assign({x:u.mapWidth,align:"right",y:0,htmlFor:"help",title:"help",cornerTL:"-",cornerBR:"|"},{children:"?"}),void 0),(0,e.jsx)(l.BorderedText,Object.assign({x:0,y:u.mapHeight-3},{children:"".concat(u.bgmTracks[f.audioTrack].name," - ").concat(u.bgmTracks[f.audioTrack].artist)}),void 0),(0,e.jsx)(l.BorderedText,Object.assign({x:0,y:u.mapHeight-5,htmlFor:"previous-track",title:"previous track"},{children:"<"}),void 0),(0,e.jsx)(l.BorderedText,Object.assign({x:5,y:u.mapHeight-5,htmlFor:"next-track",title:"next track"},{children:">"}),void 0),(0,e.jsx)(l.BorderedText,Object.assign({x:2,y:u.mapHeight-5,htmlFor:"toggle-audio",title:f.audioPlaying?"pause":"play"},{children:f.audioPlaying?"||":"|>"}),void 0),f.help&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l.BorderedText,Object.assign({fill:!0,x:3,y:3,minW:u.mapWidth-8,minH:u.mapHeight-8},{children:"guessing"===f.mode?"help text for guessing!":"help text for drawing!"}),void 0),(0,e.jsx)(l.BorderedText,Object.assign({htmlFor:"help",title:"close",align:"right",x:u.mapWidth-3,y:3,cornerTL:"-",cornerBR:"|"},{children:"X"}),void 0)]},void 0)]}),void 0),(0,e.jsxs)("nav",{children:[(0,e.jsx)("button",Object.assign({id:"help",onClick:P},{children:"toggle help"}),void 0),(0,e.jsx)("ol",{children:k.map(function(t){var n=t.fake,r=t.original;return(0,e.jsx)("li",{children:(0,e.jsxs)("button",Object.assign({id:"select-constellation-".concat(r),value:r,onClick:q},{children:["select constellation ","creating"===f.mode?j[r]:n]}),void 0)},r)})},void 0),"creating"===f.mode&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("ol",{children:f.constellations.map(function(t,n){return t.map(function(t,r){return(0,e.jsx)("li",{children:(0,e.jsxs)("button",Object.assign({id:"remove-edge-".concat(n,"-").concat(r),onClick:function(){return M(n,r)}},{children:["remove ",j[n]," edge ",r]}),void 0)},"".concat(n,"-").concat(r))})})},void 0),(0,e.jsx)("ol",{children:b.map(function(t,n){return(0,e.jsx)("li",{children:(0,e.jsxs)("button",Object.assign({id:"select-star-".concat(n),value:n,onClick:A},{children:["select star ",n]}),void 0)},n)})},void 0),(0,e.jsx)("button",Object.assign({id:"reroll",onClick:F},{children:"reroll"}),void 0),(0,e.jsx)("button",Object.assign({id:"copy",onClick:H},{children:"copy"}),void 0)]},void 0),"guessing"===f.mode&&!f.guessed&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("ol",{children:f.constellations.map(function(t,n){return(0,e.jsx)("li",{children:(0,e.jsxs)("button",Object.assign({value:n,id:"guess-".concat(n),onClick:X},{children:["guess ",n]}),void 0)},n)})},void 0),(0,e.jsx)("button",Object.assign({id:"submit-guesses",onClick:z},{children:"submit guesses"}),void 0)]},void 0),(0,e.jsx)("audio",{ref:_,src:u.bgmTracks[f.audioTrack].src,onPlay:L,onPause:U,loop:!0},void 0),(0,e.jsx)("button",Object.assign({id:"toggle-audio",onClick:W},{children:"toggle audio"}),void 0),(0,e.jsx)("button",Object.assign({id:"next-track",onClick:E},{children:"next track"}),void 0),(0,e.jsx)("button",Object.assign({id:"previous-track",onClick:R},{children:"previous track"}),void 0)]},void 0)]},void 0)}
},{"preact/jsx-runtime":"I8Gw","copy-to-clipboard":"gpwS","immer":"mkVv","line-intersect":"UtDB","nanoid":"iDyL","preact":"u8ui","preact/hooks":"qsmZ","seedrandom":"Kwju","tracery-grammar":"q69P","./Border":"iqvG","./BorderedText":"OwxF","./config":"XvkA","./Constellation":"hJTo","./Star":"VzEM","./Text":"Dlso","./utils":"wp4r"}],"mo85":[function(require,module,exports) {
"use strict";var e=require("preact/jsx-runtime"),r=require("preact"),i=require("./App");(0,r.render)((0,e.jsx)(i.App,{},void 0),document.body);
},{"preact/jsx-runtime":"I8Gw","preact":"u8ui","./App":"NEVk"}]},{},["mo85"], null)